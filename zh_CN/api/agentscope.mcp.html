<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html"><link rel="search" title="搜索" href="../search.html"><link rel="next" title="agentscope.embedding" href="agentscope.embedding.html"><link rel="prev" title="agentscope.tool" href="agentscope.tool.html">
        <link rel="prefetch" href="../_static/logo.svg" as="image">

    <link rel="shortcut icon" href="../_static/logo.svg"><!-- Generated with Sphinx 8.1.3 and Furo 2025.09.25 -->
        <title>agentscope.mcp - AgentScope</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/gallery.css?v=18ea14ae" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #2196f3;
  --color-brand-content: #2196f3;
  --color-admonition-background: #f8f9fa;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-link: #2196f3;
  --color-link--hover: #2196f3;
  --color-brand-primary: #64b5f6;
  --color-brand-content: #64b5f6;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-link: #2196f3;
  --color-link--hover: #2196f3;
  --color-brand-primary: #64b5f6;
  --color-brand-content: #64b5f6;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand"><span style='font-weight: 700; color: #2196f3;'>AgentScope</span></div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text"><span style='font-weight: 700; color: #2196f3;'>AgentScope</span></span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
    <p class="caption" role="heading">
        <span class="caption-text">
            Version
        </span>
        <ul>
            <li>
                <select class="version-select" onchange="navigateToV0(this.value)">
                    <option value="v1" selected>Stable(v1.0)</option>
                    <option value="v0">v0.1.x</option>
                </select>
            </li>
        </ul>
    </p>
    <p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quickstart_installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quickstart_key_concept.html">核心概念</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quickstart_message.html">创建消息</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quickstart_agent.html">创建 ReAct 智能体</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workflow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow_conversation.html">Conversation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow_multiagent_debate.html">Multi-Agent Debate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow_concurrent_agents.html">Concurrent Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow_routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow_handoffs.html">Handoffs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/faq.html">常见问题</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Task Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_model.html">模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_prompt.html">提示词格式化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_tool.html">工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_memory.html">记忆</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_long_term_memory.html">长期记忆</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_agent.html">智能体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_pipeline.html">管道 (Pipeline)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_plan.html">计划</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_rag.html">RAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_state.html">状态/会话管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_hook.html">智能体钩子函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_mcp.html">MCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_studio.html">AgentScope Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_tracing.html">追踪</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_eval.html">智能体评测</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_embedding.html">嵌入(Embedding)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/task_token.html">Token 计数</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agentscope.html">agentscope</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.message.html">agentscope.message</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.model.html">agentscope.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.formatter.html">agentscope.formatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.module.html">agentscope.module</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.pipeline.html">agentscope.pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.agent.html">agentscope.agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.memory.html">agentscope.memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.tool.html">agentscope.tool</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">agentscope.mcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.embedding.html">agentscope.embedding</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.evaluate.html">agentscope.evaluate</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.plan.html">agentscope.plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.rag.html">agentscope.rag</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.token.html">agentscope.token</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.tracing.html">agentscope.tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.session.html">agentscope.session</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.exception.html">agentscope.exception</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<button onclick="switchV1Language()" class="language-switch-button" title="Switch to Chinese">
  <script>
    document.write(window.location.href.includes("zh_CN") ? "En": "中");
  </script>
</button><div class="view-this-page">
  <a class="muted-link" href="../_sources/api/agentscope.mcp.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-agentscope.mcp">
<span id="agentscope-mcp"></span><h1>agentscope.mcp<a class="headerlink" href="#module-agentscope.mcp" title="Link to this heading">¶</a></h1>
<p>The MCP module in AgentScope, that provides fine-grained control over
the MCP servers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MCPToolFunction</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_mcp_function.html#MCPToolFunction"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPToolFunction" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An MCP tool function class that can be called directly.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mcp_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_tool_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_gen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_mcp_function.html#MCPToolFunction.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPToolFunction.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the MCP function.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcp_name</strong> (<em>str</em>)</p></li>
<li><p><strong>tool</strong> (<em>Tool</em>)</p></li>
<li><p><strong>wrap_tool_result</strong> (<em>bool</em>)</p></li>
<li><p><strong>client_gen</strong> (<em>Callable</em><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><em>_AsyncGeneratorContextManager</em><em>[</em><em>Any</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>session</strong> (<em>ClientSession</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.mcp.MCPToolFunction.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the tool function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.mcp.MCPToolFunction.description" title="Link to this definition">¶</a></dt>
<dd><p>The description of the tool function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction.json_schema">
<span class="sig-name descname"><span class="pre">json_schema</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#agentscope.mcp.MCPToolFunction.json_schema" title="Link to this definition">¶</a></dt>
<dd><p>JSON schema of the tool function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.MCPToolFunction.__call__">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_mcp_function.html#MCPToolFunction.__call__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPToolFunction.__call__" title="Link to this definition">¶</a></dt>
<dd><p>Call the MCP tool function with the given arguments, and return
the result.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>Any</em>)</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p><em>CallToolResult</em> | <a class="reference internal" href="agentscope.tool.html#agentscope.tool.ToolResponse" title="agentscope.tool._response.ToolResponse"><em>ToolResponse</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.MCPClientBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MCPClientBase</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_client_base.html#MCPClientBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPClientBase" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for MCP clients.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.MCPClientBase.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_client_base.html#MCPClientBase.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPClientBase.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the MCP client with a name.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<cite>str</cite>) -- The name to identify the MCP server, which should be unique
across the MCP servers.</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.MCPClientBase.get_callable_function">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_callable_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_tool_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_client_base.html#MCPClientBase.get_callable_function"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.MCPClientBase.get_callable_function" title="Link to this definition">¶</a></dt>
<dd><p>Get a tool function by its name.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_name</strong> (<em>str</em>)</p></li>
<li><p><strong>wrap_tool_result</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Callable</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatefulClientBase</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase" title="Link to this definition">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.mcp.MCPClientBase" title="agentscope.mcp._client_base.MCPClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MCPClientBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The base class for stateful MCP clients in AgentScope, which maintains
the session state across multiple tool calls.</p>
<p>The developers should use <cite>connect()</cite> and <cite>close()</cite> methods to manage
the client lifecycle.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the stateful MCP client.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<cite>str</cite>) -- The name to identify the MCP server, which should be unique
across the MCP servers.</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.is_connected">
<span class="sig-name descname"><span class="pre">is_connected</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.is_connected" title="Link to this definition">¶</a></dt>
<dd><p>If connected to the MCP server</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase.connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connect to MCP server.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.close">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase.close"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.close" title="Link to this definition">¶</a></dt>
<dd><p>Clean up the MCP client resources. You must call this method when
your application is done.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.list_tools">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_tools</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase.list_tools"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.list_tools" title="Link to this definition">¶</a></dt>
<dd><p>Get all available tools from the server.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of available MCP tools.</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>mcp.types.ListToolsResult</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StatefulClientBase.get_callable_function">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_callable_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_tool_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stateful_client_base.html#StatefulClientBase.get_callable_function"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StatefulClientBase.get_callable_function" title="Link to this definition">¶</a></dt>
<dd><p>Get an async tool function from the MCP server by its name, so
that you can call it directly, wrap it into your own function, or
anyway you like.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Currently, only the text, image, and audio results are
supported in this function.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_name</strong> (<cite>str</cite>) -- The name of the tool function to get.</p></li>
<li><p><strong>wrap_tool_result</strong> (<cite>bool</cite>) -- Whether to wrap the tool result into agentscope's
<cite>ToolResponse</cite> object. If <cite>False</cite>, the raw result type
<cite>mcp.types.CallToolResult</cite> will be returned.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A callable async function that returns either
<cite>mcp.types.CallToolResult</cite> or <cite>ToolResponse</cite> when called.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>MCPToolFunction</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.StdIOStatefulClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StdIOStatefulClient</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_stdio_stateful_client.html#StdIOStatefulClient"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StdIOStatefulClient" title="Link to this definition">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.mcp.StatefulClientBase" title="agentscope.mcp._stateful_client_base.StatefulClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulClientBase</span></code></a></p>
<p>A client class that sets up and manage StdIO MCP server connections, and
provides function-level fine-grained control over the MCP servers.</p>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>The stateful client is recommended for MCP servers that need to
maintain session states, e.g. web browsers or other interactive
MCP servers.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The stateful client will maintain one session across multiple
tool calls, until the client is closed by explicitly calling the
<cite>close()</cite> method.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When multiple StdIOStatefulClient instances are connected,
they should be closed following the Last In First Out (LIFO) principle
to avoid potential errors. Always close the most recently registered
client first, then work backwards to the first one.
For more details, please refer to this <a class="reference external" href="https://github.com/modelcontextprotocol/python-sdk/issues/577">issue</a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.StdIOStatefulClient.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding_error_handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_stdio_stateful_client.html#StdIOStatefulClient.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.StdIOStatefulClient.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the MCP server with std IO.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) -- The name to identify the MCP server, which should be unique
across the MCP servers.</p></li>
<li><p><strong>command</strong> (<cite>str</cite>) -- The executable to run to start the server.</p></li>
<li><p><strong>args</strong> (<cite>list[str] | None</cite>, optional) -- Command line arguments to pass to the executable.</p></li>
<li><p><strong>env</strong> (<cite>dict[str, str] | None</cite>, optional) -- The environment to use when spawning the process.</p></li>
<li><p><strong>cwd</strong> (<cite>str | None</cite>, optional) -- The working directory to use when spawning the process.</p></li>
<li><p><strong>encoding</strong> (<cite>str</cite>, optional) -- The text encoding used when sending/receiving messages to the
server. Defaults to &quot;utf-8&quot;.</p></li>
<li><p><strong>encoding_error_handler</strong> (<cite>Literal[&quot;strict&quot;, &quot;ignore&quot;, &quot;replace&quot;]</cite>,              defaults to &quot;strict&quot;) -- The text encoding error handler.</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HttpStatelessClient</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateless_client.html#HttpStatelessClient"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient" title="Link to this definition">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.mcp.MCPClientBase" title="agentscope.mcp._client_base.MCPClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MCPClientBase</span></code></a></p>
<p>The sse/streamable HTTP MCP client implementation in AgentScope.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Note this client is stateless, meaning it won't maintain the
session state across multiple tool calls. Each tool call will start a
new session and close it after the call is done.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient.stateful">
<span class="sig-name descname"><span class="pre">stateful</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient.stateful" title="Link to this definition">¶</a></dt>
<dd><p>Whether the MCP server is stateful, meaning it will maintain the
session state across multiple tool calls, or stateless, meaning it
will start a new session for each tool call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transport</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sse_read_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">client_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateless_client.html#HttpStatelessClient.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the streamable HTTP MCP server.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) -- The name to identify the MCP server, which should be unique
across the MCP servers.</p></li>
<li><p><strong>transport</strong> (<cite>Literal[&quot;streamable_http&quot;, &quot;sse&quot;]</cite>) -- The transport type of MCP server. Generally, the URL of sse
transport should end with <cite>/sse</cite>, while the streamable HTTP
URL ends with <cite>/mcp</cite>.</p></li>
<li><p><strong>url</strong> (<cite>str</cite>) -- The URL of the MCP server.</p></li>
<li><p><strong>headers</strong> (<cite>dict[str, str] | None</cite>, optional) -- Additional headers to include in the HTTP request.</p></li>
<li><p><strong>timeout</strong> (<cite>float</cite>, optional) -- The timeout for the HTTP request in seconds. Defaults to 30.</p></li>
<li><p><strong>sse_read_timeout</strong> (<cite>float</cite>, optional) -- The timeout for reading Server-Sent Events (SSE) in seconds.
Defaults to 300 (5 minutes).</p></li>
<li><p><strong>**client_kwargs</strong> (<cite>Any</cite>) -- The additional keyword arguments to pass to the streamable
HTTP client.</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient.get_client">
<span class="sig-name descname"><span class="pre">get_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateless_client.html#HttpStatelessClient.get_client"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient.get_client" title="Link to this definition">¶</a></dt>
<dd><p>The disposable MCP client object, which is a context manager.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>_AsyncGeneratorContextManager</em>[<em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient.get_callable_function">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_callable_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_tool_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateless_client.html#HttpStatelessClient.get_callable_function"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient.get_callable_function" title="Link to this definition">¶</a></dt>
<dd><p>Get a tool function by its name.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_name</strong> (<cite>str</cite>) -- The name of the tool function.</p></li>
<li><p><strong>wrap_tool_result</strong> (<cite>bool</cite>, defaults to <cite>True</cite>) -- Whether to wrap the tool result into agentscope's
<cite>ToolResponse</cite> object. If <cite>False</cite>, the raw result type
<cite>mcp.types.CallToolResult</cite> will be returned.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>An async tool function that returns either
<cite>mcp.types.CallToolResult</cite> or <cite>ToolResponse</cite> when called.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>Callable[..., Awaitable[mcp.types.CallToolResult |             ToolResponse]]</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatelessClient.list_tools">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_tools</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateless_client.html#HttpStatelessClient.list_tools"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatelessClient.list_tools" title="Link to this definition">¶</a></dt>
<dd><p>List all tools available on the MCP server.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>The result containing the list of tools.</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>mcp.types.ListToolsResult</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatefulClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HttpStatefulClient</span></span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateful_client.html#HttpStatefulClient"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatefulClient" title="Link to this definition">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.mcp.StatefulClientBase" title="agentscope.mcp._stateful_client_base.StatefulClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulClientBase</span></code></a></p>
<p>The stateful sse/streamable HTTP MCP client implementation in
AgentScope.</p>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>The stateful client is recommended for MCP servers that need to
maintain session states, e.g. web browsers or other interactive
MCP servers.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The stateful client will maintain one session across multiple
tool calls, until the client is closed by explicitly calling the
<cite>close()</cite> method.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When multiple HttpStatefulClient instances are connected,
they should be closed following the Last In First Out (LIFO) principle
to avoid potential errors. Always close the most recently registered
client first, then work backwards to the first one.
For more details, please refer to this <a class="reference external" href="https://github.com/modelcontextprotocol/python-sdk/issues/577">issue</a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.mcp.HttpStatefulClient.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transport</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sse_read_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">client_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/mcp/_http_stateful_client.html#HttpStatefulClient.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.mcp.HttpStatefulClient.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the streamable HTTP MCP client.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<cite>str</cite>) -- The name to identify the MCP server, which should be unique
across the MCP servers.</p></li>
<li><p><strong>transport</strong> (<cite>Literal[&quot;streamable_http&quot;, &quot;sse&quot;]</cite>) -- The transport type of MCP server. Generally, the URL of sse
transport should end with <cite>/sse</cite>, while the streamable HTTP
URL ends with <cite>/mcp</cite>.</p></li>
<li><p><strong>url</strong> (<cite>str</cite>) -- The URL to the MCP server.</p></li>
<li><p><strong>headers</strong> (<cite>dict[str, str] | None</cite>, optional) -- Additional headers to include in the HTTP request.</p></li>
<li><p><strong>timeout</strong> (<cite>float</cite>, optional) -- The timeout for the HTTP request in seconds. Defaults to 30.</p></li>
<li><p><strong>sse_read_timeout</strong> (<cite>float</cite>, optional) -- The timeout for reading Server-Sent Events (SSE) in seconds.
Defaults to 300 (5 minutes).</p></li>
<li><p><strong>**client_kwargs</strong> (<cite>Any</cite>) -- The additional keyword arguments to pass to the streamable
HTTP client.</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="agentscope.embedding.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">agentscope.embedding</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="agentscope.tool.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">agentscope.tool</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Alibaba
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/agentscope-ai/agentscope" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              <a class="muted-link " href="https://discord.gg/eYMpfnkG8h" aria-label="Discord">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" t="1753331148815" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5721" width="200" height="200">
                    <path d="M723.903423 359.138018c-69.65045-52.952793-136.256577-51.476757-136.256576-51.476757l-6.088649 7.564685c83.027027 25.738378 121.127207 62.085766 121.127207 62.085766a387.459459 387.459459 0 0 0-145.297297-46.956397 418.179459 418.179459 0 0 0-98.340901 1.752793 73.801802 73.801802 0 0 1-7.564684 1.476036 357.385225 357.385225 0 0 0-110.702703 30.258739 278.786306 278.786306 0 0 0-28.782703 13.653333S353.049369 339.488288 440.873514 313.657658l-4.612613-6.088649s-66.513874-1.476036-136.164324 51.476757A654.252973 654.252973 0 0 0 230.630631 642.167928s40.867748 71.126486 148.341621 73.801802c0 0 16.697658-22.694054 31.827027-40.867748-62.085766-18.45045-84.77982-57.565405-84.77982-57.565405a130.998198 130.998198 0 0 0 13.653334 7.564684s0 1.568288 1.476036 1.568289c1.476036 1.476036 3.044324 1.476036 4.52036 3.044324a238.748829 238.748829 0 0 0 34.779099 16.605405 513.199279 513.199279 0 0 0 71.218739 21.218018 350.558559 350.558559 0 0 0 125.555315 0 329.894054 329.894054 0 0 0 69.650451-21.218018A247.328288 247.328288 0 0 0 702.685405 618.09009s-24.262342 39.391712-87.824144 57.565405c13.653333 18.45045 31.827027 39.299459 31.827027 39.29946 107.473874-2.952072 148.341622-73.801802 146.773334-72.602523a654.990991 654.990991 0 0 0-69.558199-283.214414zM421.131532 596.77982a54.705586 54.705586 0 0 1 0-109.042162 54.705586 54.705586 0 0 1 0 109.042162z m177.124324 0a54.705586 54.705586 0 1 1 49.908468-54.521081 52.491532 52.491532 0 0 1-49.908468 54.521081z" p-id="5722"></path><path d="M512 1024A512 512 0 1 1 1024 512 512.645766 512.645766 0 0 1 512 1024z m0-972.892252a461.261261 461.261261 0 1 0 461.261261 461.261261 461.261261 461.261261 0 0 0-461.261261-461.261261z" p-id="5723"></path>
                </svg>
            </a>
              <a class="muted-link " href="https://qr.dingtalk.com/action/joingroup?code=v1,k1,OmDlBXpjW+I2vWjKDsjvI9dhcXjGZi3bQiojOq3dlDw=&_dt_no_comment=1&origin=11" aria-label="DingTalk">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
                    <path d="M512 0C229.205333 0 0 229.205333 0 512s229.205333 512 512 512 512-229.205333 512-512S794.794667 0 512 0z m237.312 480.810667c-1.109333 4.48-3.712 11.093333-7.424 18.986666h0.128l-0.426667 0.682667c-21.504 46.037333-77.610667 136.106667-77.610666 136.106667l-0.298667-0.597334-16.384 28.501334h79.018667l-150.912 200.917333 34.304-136.533333h-62.208l21.589333-90.282667c-17.493333 4.224-38.101333 10.026667-62.592 17.92 0 0-33.109333 19.370667-95.317333-37.333333 0 0-41.984-36.992-17.578667-46.165334 10.410667-3.925333 50.304-8.917333 81.706667-13.226666 42.410667-5.674667 68.48-8.789333 68.48-8.789334s-130.773333 2.005333-161.792-2.901333c-30.976-4.906667-70.4-56.704-78.805334-102.186667 0 0-12.970667-25.002667 27.904-13.226666 40.917333 11.818667 210.005333 46.08 210.005334 46.08S321.109333 411.434667 306.517333 394.922667c-14.634667-16.469333-43.093333-89.770667-39.424-134.869334 0 0 1.621333-11.221333 13.098667-8.192 0 0 162.602667 74.282667 273.792 114.986667 111.104 40.704 207.786667 61.397333 195.328 114.005333z" opacity=".65" p-id="6077"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">agentscope.mcp</a><ul>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction.__init__"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction.__init__()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction.name"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction.name</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction.description"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction.description</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction.json_schema"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction.json_schema</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.MCPToolFunction.__call__"><code class="docutils literal notranslate"><span class="pre">MCPToolFunction.__call__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentscope.mcp.MCPClientBase"><code class="docutils literal notranslate"><span class="pre">MCPClientBase</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.MCPClientBase.__init__"><code class="docutils literal notranslate"><span class="pre">MCPClientBase.__init__()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.MCPClientBase.get_callable_function"><code class="docutils literal notranslate"><span class="pre">MCPClientBase.get_callable_function()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.__init__"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.__init__()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.is_connected"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.is_connected</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.connect"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.connect()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.close"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.close()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.list_tools"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.list_tools()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.StatefulClientBase.get_callable_function"><code class="docutils literal notranslate"><span class="pre">StatefulClientBase.get_callable_function()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentscope.mcp.StdIOStatefulClient"><code class="docutils literal notranslate"><span class="pre">StdIOStatefulClient</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.StdIOStatefulClient.__init__"><code class="docutils literal notranslate"><span class="pre">StdIOStatefulClient.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient.stateful"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient.stateful</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient.__init__"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient.__init__()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient.get_client"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient.get_client()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient.get_callable_function"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient.get_callable_function()</span></code></a></li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatelessClient.list_tools"><code class="docutils literal notranslate"><span class="pre">HttpStatelessClient.list_tools()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatefulClient"><code class="docutils literal notranslate"><span class="pre">HttpStatefulClient</span></code></a><ul>
<li><a class="reference internal" href="#agentscope.mcp.HttpStatefulClient.__init__"><code class="docutils literal notranslate"><span class="pre">HttpStatefulClient.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/language_switch.js?v=92e4c85c"></script>
    </body>
</html>